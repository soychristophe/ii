<div>
  <label>
    <input type="checkbox" name="autoRepeat" id="autoRepeat"> Auto-repeat subtítulos
  </label>
</div>
<div id="repeatTimesDiv" style="display: none; margin-left: 20px;">
  <label>
    Número de repeticiones (total por subtítulo): 
    <input type="number" name="repeatTimes" id="repeatTimes" min="2" max="10" step="1" value="2">
  </label>
</div>

<div>
  <label>Margen de pausa (segundos):</label>
  <input type="number" name="pauseMargin" id="pauseMargin" step="0.1" value="0">
  <small>Cuántos segundos antes del fin pausar.</small>
</div>

<div>
  <label>Intervalo de chequeo (ms):</label>
  <input type="number" name="checkIntervalMs" id="checkIntervalMs" value="100">
  <small>Frecuencia durante el subtítulo (menor = más preciso).</small>
</div>

<div>
  <label>Intervalo de polling (ms):</label>
  <input type="number" name="pollIntervalMs" id="pollIntervalMs" value="200">
  <small>Frecuencia para detectar nuevos subtítulos.</small>
</div>

<div>
  <label>Compensación de tiempo (segundos):</label>
  <input type="number" name="timeOffset" id="timeOffset" step="0.1" value="0">
  <small>Ajuste para desfases (negativo si pausa antes, positivo si después).</small>
</div>

<script>
  const autoRepeatCb = document.getElementById('autoRepeat');
  const repeatDiv = document.getElementById('repeatTimesDiv');
  const repeatInput = document.getElementById('repeatTimes');

  autoRepeatCb.addEventListener('change', () => {
    repeatDiv.style.display = autoRepeatCb.checked ? 'block' : 'none';
  });

  // Initialize display based on default (false, so hidden)
  repeatDiv.style.display = autoRepeatCb.checked ? 'block' : 'none';

  // Enforce min/max on input
  repeatInput.addEventListener('input', () => {
    if (repeatInput.value < 2) repeatInput.value = 2;
    if (repeatInput.value > 10) repeatInput.value = 10;
  });
</script>